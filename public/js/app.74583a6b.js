(function(e){function t(t){for(var a,o,i=t[0],u=t[1],l=t[2],m=0,p=[];m<i.length;m++)o=i[m],s[o]&&p.push(s[o][0]),s[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o=(n("034f"),n("2877")),i={},u=Object(o["a"])(i,s,r,!1,null,null,null),l=u.exports,c=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("ul",e._l(e.errors,function(t){return n("li",[e._v(e._s(t))])}),0),n("div",{staticClass:"img"},[n("img",{attrs:{src:e.user.image_url,alt:""}})]),n("div",{staticClass:"container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("div",{staticClass:"photo"},[e._v("\n        Profile Picture: "),n("input",{ref:"fileInput",attrs:{type:"file"},on:{change:function(t){return e.setFile(t)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Preferred Language")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.preferred_language,expression:"user.preferred_language"}],staticClass:"form-control",attrs:{type:"preferred_language"},domProps:{value:e.user.preferred_language},on:{input:function(t){t.target.composing||e.$set(e.user,"preferred_language",t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Phone Number")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone_number,expression:"user.phone_number"}],staticClass:"form-control",attrs:{type:"phone_number"},domProps:{value:e.user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.user,"phone_number",t.target.value)}}})]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}})])]),n("button",{staticClass:"btn",on:{click:function(t){return e.chatroom()}}},[e._v("Chatrooms")])])},p=[],d=(n("7f7f"),n("bc3a")),v={data:function(){return{user:{id:"",image:"",name:"",email:"",preferred_language:"",phone_number:""},errors:[]}},created:function(){var e=this,t=localStorage.getItem("userId");d.get("/api/users/"+t).then(function(t){console.log(t.data),e.user=t.data})},methods:{submit:function(){var e=this,t=new FormData;t.append("id",this.user.id),t.append("image",this.user.image),t.append("name",this.user.name),t.append("email",this.user.email),t.append("preferred_language",this.user.preferred_language),t.append("phone_number",this.user.phone_number),d.patch("/api/users/"+this.user.id,t).then(function(t){e.user=t.data,e.image="",e.$refs.fileInput.value="",e.$router.push("/home")}).catch(function(t){console.log(t.response.data.errors),e.user.push(response.data),e.$router.push("/home")})},chatroom:function(){var e=this;d.get("/api/conversations/").then(function(t){e.$router.push("/conversations")})},setFile:function(e){e.target.files.length>0&&(this.user.image=e.target.files[0])}}},f=v,g=(n("cccb"),Object(o["a"])(f,m,p,!1,null,null,null)),h=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("h1",[e._v("Login")]),n("ul",e._l(e.errors,function(t){return n("ul",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),n("div",{staticClass:"form-group"},[n("label",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},_=[],C=n("bc3a"),w=n.n(C),y={data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var e=this,t={email:this.email,password:this.password};w.a.post("/api/sessions",t).then(function(t){w.a.defaults.headers.common["Authorization"]="Bearer "+t.data.jwt,localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("userId",t.data.user_id),e.$router.push("/home")}).catch(function(t){e.errors=["Invalid email or password"],e.email="",e.password="",e.errors=t.response.data.errors,console.log(t.response.data.errors)})}}},x=y,$=(n("d6db"),Object(o["a"])(x,b,_,!1,null,null,null)),P=$.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logout"})},S=[],T={created:function(){delete w.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/login")}},j=T,E=Object(o["a"])(j,N,S,!1,null,null,null),I=E.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signup"},[n("div",{staticClass:"container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("h1",[e._v("Signup")]),n("ul",e._l(e.errors,function(t){return n("li",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),n("div",{staticClass:"form-group"},[n("label",[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password confirmation:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.passwordConfirmation},on:{input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}})]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},M=[],k={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var e=this,t={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};w.a.post("/api/users",t).then(function(t){e.$router.push("/home")}).catch(function(t){e.errors=t.response.data.errors})}}},D=k,A=Object(o["a"])(D,O,M,!1,null,null,null),L=A.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conversations-show"},[n("h1",[e._v(e._s(e.conversation.name))]),e._l(e.conversation.users,function(e){return n("div",{staticClass:"members"},[n("img",{attrs:{src:e.image_url}})])}),n("form",{on:{click:function(t){return e.goBack()}}},[e._m(0)]),n("form",{on:{click:function(t){return e.destroyMessage()}}},[e._m(1)]),n("ul",e._l(e.errors,function(t){return n("div",[e._v(e._s(t))])}),0),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMessage()}}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.textToTranslate,expression:"textToTranslate"}],attrs:{placeholder:"Type your message here"},domProps:{value:e.textToTranslate},on:{input:function(t){t.target.composing||(e.textToTranslate=t.target.value)}}})]),e._m(2)]),n("ul",{staticClass:"example1 square scrollbar-dusty-grass square thin"},e._l(e.conversation.users,function(t){return n("div",e._l(e.conversation.messages,function(a){return n("div",{staticClass:"myMessage"},[e._v(" "+e._s(a.body)+" "),n("img",{attrs:{src:t.image_url}})])}),0)}),0)],2)},B=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-button"},[n("input",{staticClass:"btn",attrs:{type:"button",value:"GO BACK TO CHATS"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-button"},[n("input",{staticClass:"btn",attrs:{type:"button",value:"DELETE ALL MESSAGES"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-button"},[n("input",{staticClass:"btn",attrs:{type:"submit",value:"SEND"}})])}],z=(n("a481"),n("bc3a")),F={data:function(){return{textToTranslate:"",language:"",users:[],conversation_id:"",conversation:{id:"",name:"",messages:[{id:"",body:"",user_id:"",conversation_id:""}]},errors:[]}},created:function(){var e=this;z.get("/api/conversations/"+this.$route.params.id).then(function(t){e.conversation=t.data,z.get("/api/users"+e.$route.params.id),console.log(e.conversation)})},methods:{sendMessage:function(){var e=this;console.log("Create a Message....");var t=this.textToTranslate.replace(/ /g,"%20"),n={conversation_id:this.$route.params.id,body:t};z.post("/api/messages",n).then(function(t){e.conversation.messages.push(t.data),e.textToTranslate="",console.log(t.data.body)}).catch(function(t){e.errors=t.response.data.errors,console.log(response.data.errors)})},destroyMessage:function(){var e=this;z.delete("/api/conversations/"+this.$route.params.id).then(function(t){console.log("Success",t.data),e.$router.push("/conversations")})},goBack:function(){var e=this;z.get("/api/conversations/").then(function(t){console.log("Success",t.data),e.$router.push("/conversations"),console.log(t.data)})}}},q=F,G=(n("978c"),Object(o["a"])(q,U,B,!1,null,null,null)),J=G.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"conversations-index"},[n("h1",[e._v("Chatrooms")]),n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("div",{staticClass:"contacts"},[e._v("\n        Contacts: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUserId,expression:"selectedUserId"}],attrs:{list:"contacts"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedUserId=t.target.multiple?n:n[0]}}},e._l(e.users,function(t){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}),0)]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newConversationName,expression:"newConversationName"}],attrs:{placeholder:"Conversation Name"},domProps:{value:e.newConversationName},on:{input:function(t){t.target.composing||(e.newConversationName=t.target.value)}}}),n("input",{staticClass:"btn btn-secondary",attrs:{type:"submit",value:"Create"}})]),n("div",[e._l(e.startedConversations,function(t){return n("div",[n("router-link",{staticClass:"my-conversations started-conversation",attrs:{to:"/conversations/"+t.id}},[e._v("\n          "+e._s(t.name)+" \n        ")])],1)}),e._l(e.invitedConversations,function(t){return n("div",[n("router-link",{staticClass:"my-conversations invited-conversation",attrs:{to:"/conversations/"+t.id}},[e._v("\n            "+e._s(t.name)+" \n          ")])],1)})],2)])])},K=[],R=n("bc3a"),Q={data:function(){return{users:[],startedConversations:[],invitedConversations:[],selectedUserId:"",newConversationName:""}},created:function(){var e=this;R.get("/api/conversations").then(function(t){console.log(t.data),e.startedConversations=t.data["started_conversations"],e.invitedConversations=t.data["invited_conversations"],R.get("/api/users").then(function(t){e.users=t.data})})},methods:{submit:function(){var e=this;console.log("Make an invitation");var t={name:this.newConversationName,user_id:this.selectedUserId};R.post("api/conversations",t).then(function(t){e.$router.push("/conversations/"+t.data.id)})},storeID:function(e){localStorage.setItem("inviteId",e),console.log(e)}}},V=Q,W=(n("cbc8"),Object(o["a"])(V,H,K,!1,null,null,null)),X=W.exports;a["a"].use(c["a"]);var Y=new c["a"]({mode:"history",base:"/",routes:[{path:"/home",name:"home",component:h},{path:"/login",name:"login",component:P},{path:"/logout",name:"logout",component:I},{path:"/signup",name:"signup",component:L},{path:"/conversations",name:"conversations-index",component:X},{path:"/conversations/:id",name:"conversations-show",component:J}]});w.a.defaults.baseURL="/";var Z=localStorage.getItem("jwt");Z&&(w.a.defaults.headers.common["Authorization"]="Bearer "+Z),a["a"].config.productionTip=!1,new a["a"]({router:Y,render:function(e){return e(l)}}).$mount("#app")},"64a9":function(e,t,n){},7669:function(e,t,n){},"828b":function(e,t,n){},"978c":function(e,t,n){"use strict";var a=n("7669"),s=n.n(a);s.a},a9e7:function(e,t,n){},cbc8:function(e,t,n){"use strict";var a=n("828b"),s=n.n(a);s.a},cccb:function(e,t,n){"use strict";var a=n("d563"),s=n.n(a);s.a},d563:function(e,t,n){},d6db:function(e,t,n){"use strict";var a=n("a9e7"),s=n.n(a);s.a}});
//# sourceMappingURL=app.74583a6b.js.map