(function(e){function t(t){for(var n,o,i=t[0],u=t[1],l=t[2],m=0,p=[];m<i.length;m++)o=i[m],s[o]&&p.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var u=a[i];0!==s[u]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},s={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("034f"),a("2877")),i={},u=Object(o["a"])(i,s,r,!1,null,null,null),l=u.exports,c=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("ul",e._l(e.errors,function(t){return a("li",[e._v(e._s(t))])}),0),a("div",{staticClass:"img"},[a("img",{attrs:{src:e.user.image_url,alt:""}})]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("div",{staticClass:"photo"},[e._v("\n        Profile Picture: "),a("input",{ref:"fileInput",attrs:{type:"file"},on:{change:function(t){return e.setFile(t)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Preferred Language")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.preferred_language,expression:"user.preferred_language"}],staticClass:"form-control",attrs:{type:"preferred_language"},domProps:{value:e.user.preferred_language},on:{input:function(t){t.target.composing||e.$set(e.user,"preferred_language",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone_number,expression:"user.phone_number"}],staticClass:"form-control",attrs:{type:"phone_number"},domProps:{value:e.user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.user,"phone_number",t.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}})])]),a("button",{staticClass:"btn",on:{click:function(t){return e.chatroom()}}},[e._v("Chatrooms")])])},p=[],d=(a("7f7f"),a("bc3a")),v={data:function(){return{user:{id:"",image:"",name:"",email:"",preferred_language:"",phone_number:""},errors:[]}},created:function(){var e=this,t=localStorage.getItem("userId");d.get("/api/users/"+t).then(function(t){console.log(t.data),e.user=t.data})},methods:{submit:function(){var e=this,t=new FormData;t.append("id",this.user.id),t.append("image",this.user.image),t.append("name",this.user.name),t.append("email",this.user.email),t.append("preferred_language",this.user.preferred_language),t.append("phone_number",this.user.phone_number),d.patch("/api/users/"+this.user.id,t).then(function(t){e.user=t.data,e.image="",e.$refs.fileInput.value="",e.$router.push("/home")}).catch(function(t){console.log(t.response.data.errors),e.user.push(response.data),e.$router.push("/home")})},chatroom:function(){var e=this;d.get("/api/conversations/").then(function(t){e.$router.push("/conversations")})},setFile:function(e){e.target.files.length>0&&(this.user.image=e.target.files[0])}}},f=v,g=(a("cccb"),Object(o["a"])(f,m,p,!1,null,null,null)),h=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("h1",[e._v("Login")]),a("ul",e._l(e.errors,function(t){return a("ul",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),a("div",{staticClass:"form-group"},[a("label",[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},_=[],w=a("bc3a"),C=a.n(w),y={data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var e=this,t={email:this.email,password:this.password};C.a.post("/api/sessions",t).then(function(t){C.a.defaults.headers.common["Authorization"]="Bearer "+t.data.jwt,localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("userId",t.data.user_id),e.$router.push("/home")}).catch(function(t){e.errors=["Invalid email or password"],e.email="",e.password="",e.errors=t.response.data.errors,console.log(t.response.data.errors)})}}},x=y,$=(a("d6db"),Object(o["a"])(x,b,_,!1,null,null,null)),P=$.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logout"})},E=[],S={created:function(){delete C.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$router.push("/login")}},T=S,j=Object(o["a"])(T,N,E,!1,null,null,null),I=j.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("h1",[e._v("Signup")]),a("ul",e._l(e.errors,function(t){return a("li",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),a("div",{staticClass:"form-group"},[a("label",[e._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.passwordConfirmation},on:{input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},k=[],M={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var e=this,t={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};C.a.post("/api/users",t).then(function(t){e.$router.push("/home")}).catch(function(t){e.errors=t.response.data.errors})}}},D=M,A=Object(o["a"])(D,O,k,!1,null,null,null),B=A.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conversations-show"},[a("h1",[e._v(e._s(e.conversation.name))]),e._l(e.conversation.users,function(e){return a("div",{staticClass:"members"},[a("img",{attrs:{src:e.image_url}})])}),a("form",{on:{click:function(t){return e.goBack()}}},[e._m(0)]),a("form",{on:{click:function(t){return e.destroyMessage()}}},[e._m(1)]),a("ul",e._l(e.errors,function(t){return a("div",[e._v(e._s(t))])}),0),a("form",{on:{submit:function(t){return t.preventDefault(),e.sendMessage()}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textToTranslate,expression:"textToTranslate"}],attrs:{placeholder:"Type your message here"},domProps:{value:e.textToTranslate},on:{input:function(t){t.target.composing||(e.textToTranslate=t.target.value)}}})]),e._m(2)]),a("ul",{staticClass:"example1 square scrollbar-dusty-grass square thin"},e._l(e.conversation.messages,function(t){return a("div",{staticClass:"myMessage"},[e._v(" "+e._s(t.body)+" "),a("img",{attrs:{src:"https://media.licdn.com/dms/image/C4E03AQEgfHpB_j-HKw/profile-displayphoto-shrink_200_200/0?e=1557964800&v=beta&t=8-QhX9uE-6PlLsdTuDrweNbUrpN3tugQpfqdnBHmokY"}})])}),0)],2)},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-button"},[a("input",{staticClass:"btn",attrs:{type:"button",value:"GO BACK TO CHATS"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-button"},[a("input",{staticClass:"btn",attrs:{type:"button",value:"DELETE ALL MESSAGES"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-button"},[a("input",{staticClass:"btn",attrs:{type:"submit",value:"SEND"}})])}],H=a("bc3a"),q=a("f5ee"),z=(q.createConsumer("ws://localhost:3000/cable"),{data:function(){return{textToTranslate:"",language:"",users:[],conversation_id:"",conversation:{id:"",name:"",messages:[{id:"",body:"",user_id:"",conversation_id:""}]},errors:[]}},created:function(){var e=this;H.get("/api/conversations/"+this.$route.params.id).then(function(t){e.conversation=t.data,H.get("/api/users"),console.log(e.conversation)})},methods:{sendMessage:function(){var e=this;console.log("Create a Message....");var t={conversation_id:this.$route.params.id,body:this.textToTranslate};H.post("/api/messages",t).then(function(t){e.conversation.messages.push(t.data),e.textToTranslate="",console.log(t.data.body)}).catch(function(t){e.errors=t.response.data.errors,console.log(response.data.errors)})},destroyMessage:function(){var e=this;H.delete("/api/conversations/"+this.$route.params.id).then(function(t){console.log("Success",t.data),e.$router.push("/conversations")})},goBack:function(){var e=this;H.get("/api/conversations/").then(function(t){console.log("Success",t.data),e.$router.push("/conversations"),console.log(t.data)})}}}),F=z,Q=(a("978c"),Object(o["a"])(F,L,U,!1,null,null,null)),G=Q.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"conversations-index"},[a("h1",[e._v("Chatrooms")]),a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("div",{staticClass:"contacts"},[e._v("\n        Contacts: "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUserId,expression:"selectedUserId"}],attrs:{list:"contacts"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedUserId=t.target.multiple?a:a[0]}}},e._l(e.users,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}),0)]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newConversationName,expression:"newConversationName"}],attrs:{placeholder:"Conversation Name"},domProps:{value:e.newConversationName},on:{input:function(t){t.target.composing||(e.newConversationName=t.target.value)}}}),a("input",{staticClass:"btn btn-secondary",attrs:{type:"submit",value:"Create"}})]),a("ol",e._l(e.conversations,function(t){return a("div",[a("router-link",{staticClass:"myConversations",attrs:{to:"/conversations/"+t.id}},[e._v("\n      "+e._s(t.name)+" \n    ")])],1)}),0)])])},K=[],R=a("bc3a"),X={data:function(){return{users:[],conversations:[],selectedUserId:"",newConversationName:""}},created:function(){var e=this;R.get("/api/conversations").then(function(t){console.log(t.data),e.conversations=t.data,R.get("/api/users").then(function(t){e.users=t.data})})},methods:{submit:function(){var e=this;console.log("Make an invitation");var t={name:this.newConversationName,user_id:this.selectedUserId};R.post("api/conversations",t).then(function(t){e.$router.push("/conversations/"+t.data.id)})},storeID:function(e){localStorage.setItem("inviteId",e),console.log(e)}}},Y=X,V=(a("cbc8"),Object(o["a"])(Y,J,K,!1,null,null,null)),W=V.exports;n["a"].use(c["a"]);var Z=new c["a"]({mode:"history",base:"/",routes:[{path:"/home",name:"home",component:h},{path:"/login",name:"login",component:P},{path:"/logout",name:"logout",component:I},{path:"/signup",name:"signup",component:B},{path:"/conversations",name:"conversations-index",component:W},{path:"/conversations/:id",name:"conversations-show",component:G}]});C.a.defaults.baseURL="/";var ee=localStorage.getItem("jwt");ee&&(C.a.defaults.headers.common["Authorization"]="Bearer "+ee),n["a"].config.productionTip=!1,new n["a"]({router:Z,render:function(e){return e(l)}}).$mount("#app")},"64a9":function(e,t,a){},7669:function(e,t,a){},"828b":function(e,t,a){},"978c":function(e,t,a){"use strict";var n=a("7669"),s=a.n(n);s.a},a9e7:function(e,t,a){},cbc8:function(e,t,a){"use strict";var n=a("828b"),s=a.n(n);s.a},cccb:function(e,t,a){"use strict";var n=a("d563"),s=a.n(n);s.a},d563:function(e,t,a){},d6db:function(e,t,a){"use strict";var n=a("a9e7"),s=a.n(n);s.a}});
//# sourceMappingURL=app.7037680b.js.map